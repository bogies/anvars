function Tmsp(e,o,n,t,r){t||(t={none:"none"});var a=new Promise(function(a,d){$.ajax({url:"/services/proxy.jsd",type:"POST",data:t,dataType:"JSON",beforeSend:function(t){r&&r.dom.loading(r.params),t.setRequestHeader("tmService",e),t.setRequestHeader("tmMethod",n),t.setRequestHeader("tmUri",o)},success:function(e){r&&r.dom.loading("toggle"),200==e.code?a(e):d(e)},error:function(e,o,n){r&&r.dom.loading("toggle"),d(new Error(o))}})});return a}